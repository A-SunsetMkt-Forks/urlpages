<!DOCTYPE html>
<html>
<head>
<title>Create and edit URL pages</title>
<style>
* {
  margin: 0px;
  box-sizing: border-box;
  vertical-align: top;
}

html, body {
  height: 100%;
}

#textboxes {
  height: 40%;
  width: 100%;
}

textarea {
  resize: none;
  width: 33.3333%;
  height: 100%;
}

iframe {
  width: 100%;
  height: 60%;
}

textarea, iframe {
  border: 0.5px solid;
}
</style>
<script type="text/javascript">
function update() {
  var pageData =
`
<!DOCTYPE html>
<head>
<style>
${document.getElementById("css").value}
</style>
<script type="text/javascript">
${document.getElementById("javascript").value}
</` +
// TODO: Figure out how to avoid breaking this up
`script>
</head>
<body>
${document.getElementById("html").value}
</body>
`;
  window.frames[0].location.replace(`data:text/html,${encodeURIComponent(pageData)}`);
}
</script>
</head>

<body>
<div id="textboxes" onkeyup="update()">
<!-- Unfortunately having these <textarea>s on one line is actually necessary to remove a tiny amount of horizontal space between them -->
<textarea id="html" placeholder="HTML" rows="9"></textarea><textarea id="css" placeholder="CSS" rows="9"></textarea><textarea id="javascript" placeholder="JavaScript" rows="9"></textarea>
</div>

<iframe id="display"></iframe>
</body>
</html>
